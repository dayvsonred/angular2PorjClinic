<!-- <p>  conta-corrente-paciente works! </p> -->
<section>
  <div class="container-fluid">



    <div class="row tt-pg-corp">
      <div class="col tt-pg-name">
        Conta Corrente Paciente - {{SelectClinicaDados.nm_unidade_atendimento}}
      </div>
    </div>


    <div class="row finc-top-bord">
      <div class="col">
        <div class="row">
          <div class="col finc-bt-top ">
            <a href="{{SelectClinicaDados.BaseIndex}}">
              <i class="fa fa-reply finc-i-col-b" aria-hidden="true"></i>
              <strong> Voltar </strong>
            </a>
          </div>
          <div class="col finc-bd-l finc-bt-top" (click)="RemoverParcela(templateModalID4)">
            <i class="fa fa-times finc-i-col-b" aria-hidden="true"></i>
            <strong> Elimina </strong>
          </div>
          <div class="col finc-bd-l finc-bt-top" (click)="baixarParcela2(templateModalID2,templateModalID3)">
            <i class="fa fa-arrow-circle-o-down  finc-i-col-b" aria-hidden="true"></i>
            <strong> Baixa </strong>
          </div>
          <!-- <div class="col finc-bd-l finc-bt-top" (click)="NovoCredito(templateModalID)">
            <i class="fa fa-file-text-o finc-i-col-b" aria-hidden="true"></i>
            <strong> Recibo </strong>
          </div> -->
          <div class="col finc-bd-l finc-bt-top" (click)="Alterar(templateModalID5)">
            <i class="fa fa-pencil-square-o finc-i-col-b" aria-hidden="true"></i>
            <strong> Altera </strong>
          </div>
          <div class="col finc-bd-l finc-bt-top" (click)="print()">
            <i class="fa fa-file-pdf-o finc-i-col-b" aria-hidden="true"></i>
            <strong> Imprimir </strong>
          </div>
        </div>
      </div>
      <div class="col-5 finc-bd-l">
          <div class="row">
            <div  *ngIf="FincTrselectedRow != null && IsAdm == true" class="col-4 finc-bd-l finc-bt-top" (click)="CancelBaixa(templateModalID7)">
              <i class="fa fa-minus  finc-i-col-b" aria-hidden="true"></i>
              <strong> Cancelar Baixa </strong>
            </div>
            
            <div  *ngIf="IsAdm == true"  class="col-4 finc-bd-l finc-bt-top" (click)="Renegociar(templateModalID8)">
              <i class="fa fa-cogs  finc-i-col-b" aria-hidden="true"></i>
              <strong> Renegociar </strong>
            </div>

            <div  *ngIf="IsAdm == true"  class="col-4 finc-bd-l finc-bt-top" (click)="RenegociarParcela(templateModalID9)">
              <i class="fa fa-cogs  finc-i-col-b" aria-hidden="true"></i>
              <strong> Parcela </strong>
            </div>
          </div>

        <!-- <div class="row">
          <div class="col-5 finc-bt-top"  (click)="ShowContsEssenciais(template2ModalID)"  >
              <i class="fa fa-calendar finc-i-col-b" aria-hidden="true"></i> <strong>  Contas Essenciais </strong> ({{NumContasEssenciais}})
          </div>
        </div> -->
      </div>
    </div>
    <!-- end row -->

    <div class="row finc-sub-bts">

      
        <div class="col-3">
            <div class="row">
     

                <div class="col-7">
                  <div class="form-group frm-topo ">
                    <label class="lb-topo"> Paciente </label>
                    <input type="text" class="form-control finc-inpt ipt-nome" placeholder="" disabled="true" [(ngModel)]="ObjSelec.PacienteSelecNome">
                  </div>
                </div>

                <div class="col-5">
                  <div class="form-group frm-bt-unic">
                    <button type="submit" class="btn btn-primary" (click)="SelectPaciente(templateModalID1)">
                      <i class="fa fa-search" aria-hidden="true"></i> Paciente </button>
                  </div>
                </div>


          </div>
        </div>
          


      <div class="col-6">
        <div class="row">

            <div class="col-3">
                <div class="form-group frm-topo " > 
                    <label class="lb-topo" >Exibir Parcelas: </label>
                      <select class="form-control finc-inpt" [(ngModel)]="TipoShowTratPac"  >
                          <option *ngFor="let tipo of TipoShowTratPacVet" [value]="tipo.value">{{tipo.nome}}</option>
                      </select>
                </div>
          </div>



          <div class="col-3">
            <div class="form-group frm-topo ">
              <label class="lb-topo">Início </label>
              <form #myForm="ngForm" novalidate>
                <!-- placeholder="{{DataHojeini}}" -->
                <my-date-picker name="mydate" [locale]="locale" [brmasker]="{mask:'00/00/0000', len:10}" [options]="myDatePickerOptions"
                  [(ngModel)]="model" required></my-date-picker>
              </form>
            </div>
          </div>
          <div class="col-3">
            <div class="form-group frm-topo ">
              <label class="lb-topo">Fim</label>
              <form #myForm="ngForm" novalidate>
                <!-- placeholder="{{DataHojeFim}}" -->
                <my-date-picker name="mydate1" [locale]="locale" [brmasker]="{mask:'00/00/0000', len:10}" [options]="myDatePickerOptions"
                  [(ngModel)]="model1" required></my-date-picker>
              </form>
            </div>
          </div>
          <div class="col-3">
              <div class="form-group frm-bt-unic">
                <button type="submit" class="btn btn-primary col-12 ft-12" [disabled]="Process" (click)="AtualizarPross()">
                  <i class="fa fa-refresh " aria-hidden="true"></i> Atualizar </button>
              </div>
            </div>
        </div>
      </div>

     

      <div class="col-3">
        <div class="form-group frm-topo ">
          <label class="lb-topo"> Unidade </label>
          <!-- <select class="form-control finc-inpt" id="exampleSelect1"  [(ngModel)]="uni"  >
                      <option *ngFor="let u of ListUnidade" [value]="u.value"   >{{u.label}}</option>
                  </select> -->
          <ng-select style="background-color: #fff;" [options]="ListUnidade" [multiple]="multiple0" placeholder="{{UnidadeNome}}" [allowClear]="true"
            (selected)="onSelectUnidade($event)">
          </ng-select>
        </div>
      </div>

    </div>
    <!-- end row -->


    <div class="row">
      <!-- <div class="container-fluid finc-lista-relatorio"  > -->
      <div class="col finc-lista-relatorio" #FincGridRelatorio>

        <div class="finc-ccc-processando" *ngIf="caregandoFinc">
          <div class="processando">
            <i class="fa fa-refresh  fa-spin fa-3x fa-fw processando-i"></i>
            <span class="sr-only">Loading...</span>
          </div>
        </div>

        <div class="row" *ngIf="GetBonusPaciente != null ">
          <div class="col-12">
            <div class="alert alert-info" role="alert">
              Paciente possui
              <strong> {{ GetBonusPaciente | formatCurrency }} </strong> de crédito para aprovação de tratamento!
            </div>
          </div>

        </div>

        <div class="finc-bd-tb">
          <div class="row">
            <div class="col-3 grupTs bdR1">
              <div class="w-100 ">
                <i (click)="CloseColapse(accordionOpen)" class="fa fa-minus finc-i-col-b cP" [class.fa-minus]="accordionOpen" [class.fa-plus]="!accordionOpen"
                  aria-hidden="true"></i>
                <strong> Grupo Tratamentos </strong>

                <accordion>
                  <accordion-group [isOpen]="accordionOpen" class="acordionCCP">
                    <!-- This content is straight in the template. -->

                    <table class="table table-striped w-100 grupTsTab">
                      <tbody class="ft-12">
                        <ng-template ngFor let-Grup [ngForOf]="GruposTratamentoPac" let-i="index">
                          <!-- <div class="col-12"   >
                                                        {{Grup}}
                                                    </div> -->

                          <tr (click)="GetShowTratamento(Grup,i)" [class.table-hover-fic-Selected]="i == GrupseltRow">
                            <td class=""  [class.obrigat]="true == FinacTemDebito(Grup)"   > {{Grup}} </td>
                          </tr>


                        </ng-template>
                      </tbody>
                    </table>

                  </accordion-group>
                </accordion>


                <table class="table table-striped w-100 grupTsTab" *ngIf="!accordionOpen">
                  <tbody class="ft-12">

                    <tr class="table-hover-fic-Selected">
                      <td class=""> {{GrupseltRowObj}} </td>
                    </tr>
                  </tbody>
                </table>


              </div>

            </div>
            <div class="col grupTsDth">
              <div class="col-12 ">
                <i (click)="CloseColapse(accordionOpen)" class="fa  finc-i-col-b cP" [class.fa-minus]="accordionOpen" [class.fa-plus]="!accordionOpen"
                  aria-hidden="true"></i>
                <strong > Detalhes </strong>
                <accordion>
                  <accordion-group [isOpen]="accordionOpen" class="acordionCCP">
                    <!-- This content is straight in the template. -->


                    <div class="grupTsDth-table-responsive" *ngIf="GrupoSetShow.length > 0">
                      <table class="table table-striped w-100 grupTsDthTab">
                        <thead class="thead-default">
                          <tr>
                            <th width="" style="text-align: center;">#</th>
                            <th width="" style="text-align: center;">Data</th>
                            <th width="" style="text-align: center;">Valor total</th>
                            <th width="%10" class=" w-10"> </th>
                          </tr>
                        </thead>

                        <tbody class="ft-12">
                          <ng-template ngFor let-GrupDth [ngForOf]="GrupoSetShow" let-i="index">
                            <tr (click)="ShowDthTratamento(GrupDth,i)" [class.table-hover-fic-Selected]="i == GrupItenseltRow">
                              <td width="5%" style="text-align: center;" class=""> {{i+1}} </td>
                              <td class="" [class.obrigat]="true == FinacTemDebito(GrupDth.cd_financeiro)"   > {{GrupDth.dt}} </td>
                              <td class="" style="text-align: center;" currencyMask [options]="{ prefix: 'R$ ', thousands: '.', decimal: ',' }"> {{GrupDth.valor_total | formatCurrency}} </td>
                              <!--<td class=""  > {{GrupDth}} </td>  -->
                              <td width="%10" class=" w-10"> </td>
                            </tr>
                          </ng-template>
                        </tbody>
                      </table>
                    </div>


                  </accordion-group>
                </accordion>


                <div class="grupTsDth-table-responsive" *ngIf="!accordionOpen">
                  <table class="table table-striped w-100 grupTsDthTab">
                    <!-- <thead class="thead-default"   >
                                              <tr>
                                                  <th width="" style="text-align: center;">#</th>
                                                  <th width="" style="text-align: center;">Data</th>
                                                  <th width="" style="text-align: center;">Valor total</th>
                                                  <th width="%10" class=" w-10"  > </th>  
                                              </tr>
                                          </thead> -->

                    <tbody class="ft-12">

                      <tr class="table-hover-fic-Selected">
                        <td width="5%" style="text-align: center;" class=""> {{GrupoSetShowFix.select}} </td>
                        <td class=""> {{GrupoSetShowFix.dt}} </td>
                        <td class="" style="text-align: center;" currencyMask [options]="{ prefix: 'R$ ', thousands: '.', decimal: ',' }"> {{GrupoSetShowFix.valor_total | formatCurrency}} </td>
                        <!--<td class=""  > {{GrupDth}} </td>  -->
                        <td width="%10" class=" w-10"> </td>
                      </tr>

                    </tbody>
                  </table>
                </div>


              </div>
            </div>
          </div>



          <!-- <accordion>
                          <accordion-group heading="Static Header, initially expanded">
                            This content is straight in the template.
                          </accordion-group>
                          <accordion-group heading="Another group">
                            <p>Some content</p>
                          </accordion-group>
                          <accordion-group heading="Another group" [isOpen]="accordionOpen"   >
                            <p>Some content</p>
                          </accordion-group>
                          <accordion-group heading="Another group">
                            <p>Some content</p>
                          </accordion-group>
                      </accordion> -->

        </div>




        <div class="finc-bd-tb mgT-10">
          <table class="table table-striped table-hover-fic finc-table" id="finc-tb" style="margin-bottom: 0;">
            <thead class="thead-default">
              <tr>
                <th width="4%" style="text-align: center;">#</th>
                <th width="6%" style="text-align: center;">Venc.</th>
                <th width="6%" style="text-align: center;">Pgto</th>
                <th width="8%" style="text-align: center;">Histórico</th>
                <th width="20%" style="text-align: center;">Detalhe Parcela</th>
                <th width="7%" style="text-align: right;">Débito</th>
                <th width="7%" style="text-align: right;">Juro</th>
                <th width="7%" style="text-align: right;">Desc</th>
                <th width="7%" style="text-align: right;">Crédito</th>
                <th width="7%" style="text-align: right;">Cartao</th>
                <th width="" style="text-align: center;">Baixa</th>
                <th width="8%" style="text-align: center;">Situação</th>
                <th width="1%"></th>
              </tr>
            </thead>
          </table>
        </div>
        <div class="finc-bd-tb finc-table-responsive">
          <table class="table table-striped table-hover-fic finc-table" id="finc-tb">
            <tbody class="ft-12">
              <ng-template ngFor let-ListFinancGridU [ngForOf]="ListFinancGrid" let-i="index">
                <!--    <tr   [class.table-hover-fic-Selected]="i == FincTrselectedRow"   && (TipoShowTratPac == 0 || TipoShowTratPac == ListFinancGridUdebito_efetivado )   [class.finc-td-debito]="ListFinancClinica.tipo_movimento == 'D'"   *ngFor="let ListFinancClinica of ListFinancClinicaGrid; let i = index " > -->
                <tr (click)="SelectTratPacel(ListFinancGridU,i,templateModalID6)" *ngIf="ListFinancGridU.cd_financeiro == GrupoSetFicSelct && (TipoShowTratPac == 'A' || TipoShowTratPac == ListFinancGridU.debito_efetivado ) "
                [class.table-hover-fic-Selected]="i == FincTrselectedRow" [class.finc-td-debito]="ListFinancGridU.debito_efetivado == 'N' ">
                  <th width="4%" scope="row" style="text-align: center;"> {{listIndexF(i)}} </th>
                  <td width="6%"> {{ListFinancGridU.data2}} </td>
                  <td width="6%"> {{ListFinancGridU.dt_baixa2}} </td>
                  <td width="8%"> {{ListFinancGridU.historico}} </td>
                  <td width="20%"> {{ListFinancGridU.nm_tipo_pagamento }} {{ListFinancGridU.pg_responsavel_nome }} {{ListFinancGridU.pg_responsavel_cpf}}
                  </td>
                  <!-- <td width="7%"> {{ListFinancGridU.valor_parcela}} </td>
                  <td width="7%"> {{ListFinancGridU.juros}} </td>
                  <td width="7%"> {{ListFinancGridU.desconto}} </td>
                  <td width="7%"> {{ListFinancGridU.valor_credito}} </td>
                  <td width="7%"> {{ListFinancGridU.juros_cartao}} </td> -->

                  <td width="7%" currencyMask [options]="{ prefix: 'R$ ', thousands: '.', decimal: ',' }">
                    {{ListFinancGridU.valor_parcela | formatCurrency}} </td>
                  <td width="7%" currencyMask [options]="{ prefix: 'R$ ', thousands: '.', decimal: ',' }">
                    {{ListFinancGridU.juros | formatCurrency}} </td>
                  <td width="7%" currencyMask [options]="{ prefix: 'R$ ', thousands: '.', decimal: ',' }">
                    {{ListFinancGridU.desconto | formatCurrency}} </td>
                  <td width="7%" currencyMask [options]="{ prefix: 'R$ ', thousands: '.', decimal: ',' }">
                    {{ListFinancGridU.valor_credito | formatCurrency}} </td>
                  <td width="7%" currencyMask [options]="{ prefix: 'R$ ', thousands: '.', decimal: ',' }">
                    {{ListFinancGridU.juros_cartao | formatCurrency}} </td>






                  <td width=""> {{ListFinancGridU.nome_quem_baixou}} </td>
                  <td width="8%" (click)="baixarParcela(templateModalID2,ListFinancGridU,templateModalID3)">
                    <i class=" ft-18  fa" [class.fa-check-circle]="incoBaixado(ListFinancGridU)" [class.fa-check]="incoBaixaConfir(ListFinancGridU)"
                      [class.fa-arrow-circle-o-down]="!incoBaixado(ListFinancGridU) && !incoBaixaConfir(ListFinancGridU)" aria-hidden="true"></i>
                  </td>



                  <!-- <td width=""   >    {{ListFinancGridU.MSG }} <strong> {{pacienteNomes[ListFinancGridU.cd_paciente_transfere]}} </strong>  </td> -->
                  <!-- <td width =""  > {{ListFinancGridU.nm_tipo_tratamento }} </td>   -->
                  <!-- <td width=""> {{ListFinancGridU.nm_tipo_pagamento }} </td> -->
                  <!-- <td width="5%" style="text-align: right;" (click)="detalhesFinac(templateModalID2,ListFinancGridU)">
                                        <i class="fa fa-search-plus"> </i>
                                    </td> -->
                  <!-- <td width="10%" [class.table-Debito-td]="ListFinancGridU.transacao == 'D'" currencyMask [options]="{ prefix: 'R$ ', thousands: '.', decimal: ',' }">
                                    {{ListFinancGridU.valor_bonus | formatCurrency}} {{ListFinancGridU.transacao}} </td> -->
                  <!-- <td width =""  > </td> -->
                  <!-- <td width="10%" style="text-align: center;" currencyMask [options]="{ prefix: 'R$ ', thousands: '.', decimal: ',' }"> {{ListFinancGridU.valor_total | formatCurrency}} </td> -->
                  <!-- <td width="10%" class="ft-10" > <strong > {{ListFinancGridU.nm_prestador}} </strong>  </td> -->
                  <td width="1%"></td>
                </tr>
              </ng-template>
            </tbody>
          </table>
        </div>

        <div class="col-12 ">
          <div class="row totais-rodape">
            <!-- {{TotalSaldo  | formatCurrency }} -->
            <div class="col-3">
              <span>
                <strong>TOTAL</strong>
              </span>
            </div>
            <div class="col-3">
              <!-- <span><strong> Valor : </strong>  {{TotalTranzacao  | formatCurrency }}  </span>  -->
              <span>
                <strong>Valor Tratameto : </strong> {{ValsTratamet.tratamento | formatCurrency }} </span>
            </div>
            <div class="col-3">

              <span>
                <strong>Valor Pago : </strong> {{ValsTratamet.pago | formatCurrency }} </span>
              <!-- <button type="submit" class="btn btn-primary" (click)="a()">
                                <i class="fa fa-cogs" aria-hidden="true"></i> Recalcular </button> -->

              <!-- <label class="clr-red"   (click)="NovoCredito(templateModalID3)">
                                    <i class="fa fa-cogs finc-i-col-b" aria-hidden="true"></i>
                                    <strong > Recalcular </strong>
                                </label> -->
            </div>
            <div class="col-3">
              <!-- <span><strong> Valor : </strong>  {{TotalTranzacao  | formatCurrency }}  </span>  -->
              <span>
                <strong>Debitos Restantes : </strong> {{ValsTratamet.debtRest | formatCurrency }} </span>
            </div>
          </div>
        </div>
      </div>
    </div>





  </div>




  <!-- Modal select paciente  -->
  <ng-template #templateModalID1>
    <div class="modal-header tt-md-corp">
      <h4 class="modal-title pull-left tt-md-name">Selecionando Paciente </h4>
      <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
        <span class="tt-md-close" aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <!-- This is static modal, backdrop click will not close it.
              Click <b>&times;</b> to close modal. -->
      <div>

        <div class="  finc-sub-bts">
          <div class="form-group frm-topo ">
            <label class="lb-topo">Digite para busacar o Paciente. </label>
            <input type="text" class="form-control finc-inpt" autofocus #nomePacBusc placeholder="Pesquisar" (keyup)="GetPacienteString($event)">
          </div>
        </div>


        <div class="finc-bd-tb">
          <table class="table table-striped table-hover-fic finc-table" id="finc-tb" style="margin-bottom: 0;">
            <thead class="thead-default">
              <tr>
                <th width="5%" style="text-align: center;">#</th>
                <th width="35%" style="text-align: center;">nome</th>
                <th width="20%" style="text-align: center;">CPF</th>
                <th width="40%" style="text-align: center;">Unidade</th>
              </tr>
            </thead>
          </table>
        </div>
        <div class="finc-bd-tb finc-table-responsive">
          <table class="table table-striped table-hover-fic finc-table" id="finc-tb">
            <tbody class="ft-12">
              <ng-template ngFor let-ListPaciente [ngForOf]="ListPacientes" let-i="index">
                <!--    <tr  (click)="FincaTrSelect(ListFinancClinica,i)" [class.table-hover-fic-Selected]="i == FincTrselectedRow"  [class.finc-td-debito]="ListFinancClinica.tipo_movimento == 'D'"   *ngFor="let ListFinancClinica of ListFinancClinicaGrid; let i = index " > -->
                <tr (click)="PacienteTrSelect(ListPaciente)">
                  <th width="5%" scope="row" style="text-align: center;">{{i+1}}</th>
                  <td width="40%"> {{ListPaciente.nome}} </td>
                  <td width="20%"> {{ListPaciente.cpf}} </td>
                  <td width="35%"> {{ListPaciente.nm_unidade_atendimento}} </td>
                </tr>
              </ng-template>
            </tbody>
          </table>
        </div>



        <div class="row finc-sub-bts pa-t-15">
          <div class="col-6">
            <!-- <button type="button" class="btn btn-primary"  >Ok</button> -->
            <button type="button" class="btn btn-primary" (click)="modalRef.hide()">Cancelar </button>
            <!-- <button type="button" class="btn btn-danger" [disabled]="DellProcess" (click)="ConfirmarDellCred(template4ModalID,true)" >Excluir</button>  -->
          </div>
        </div>
      </div>
    </div>
  </ng-template>















  <!-- Modal BAIXA PARCELA  -->
  <ng-template #templateModalID2>
    <div class="modal-header tt-md-corp">
      <h4 class="modal-title pull-left tt-md-name">Baixar Parcela </h4>
      <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
        <span class="tt-md-close" aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <!-- This is static modal, backdrop click will not close it.
              Click <b>&times;</b> to close modal. -->
      <div>
        <div class="col-12">
          <div class="alert alert-info row" role="alert">
            Paciente possui
            <strong class="mgL-5 mgR-5"> {{ GetBonusPaciente | formatCurrency }} </strong> de crédito para aprovação de tratamento!
            <!-- <div class="form-check"> ng-change="FinanceiroUsarBonus()" -->
            <label class="wdt20" > <input class="mgL-5 form-check-input" type="checkbox" [(ngModel)]="MD.usarCredito" (change)="ChagUsarBonus()">   </label>
            <label class="">
               USAR CRÉDITO?

            </label>
            <input type="text" class="col-1 mgL-5 form-control finc-inpt" [(ngModel)]="MD.creditoUsar" [disabled]="!MD.usarCredito" (keyup)="ChagValUsarBonus()"
              placeholder="R$: 0,00" currencyMask [options]="{ prefix: 'R$ ', thousands: '.', decimal: ',' }">
            <!-- </div> -->
            <div [hidden]="DescontoOrto == 0"> Paciente possui desconto em orto de {{UnidadeDados.bonus_orto_perc}} %
              <label class="">
                <input class="mgL-5 form-check-input" type="checkbox" [(ngModel)]="MD.usarDescOrt" (change)="ChagUsarDescOrt()"> USAR DESECONTO?

              </label>
            </div>
          </div>
        </div>


        <div class="  finc-sub-bts row">





          <div class="col-3">
            <div class="form-group frm-topo ">
              <label class="lb-topo"> Valor da Parcela: </label>
              <input type="text" class="form-control finc-inpt" [disabled]="true" [(ngModel)]="MD.valor_parcela" (click)="showVar(MD)">
            </div>
          </div>
          <div class="col-3">
            <div class="form-group frm-topo ">
              <label class="lb-topo"> Valor Pago: </label>
              <!-- <input type="text" class="form-control finc-inpt"   [(ngModel)]="MD.valorPag"    currencyMask [options]="{ prefix: 'R$ ', thousands: '.', decimal: ',' }" (click)="showVar(mydateBaixa)"> -->
              <!-- [brmasker]="{mask:'0000', len:4, person: true}" [(ngModel)]="MD.numerocartao"  NumberOnly   (click)="FumMovCusorOfEnd(valadd)" (keyup)="onChageValADD()" -->
              <input type="text" class="form-control finc-inpt" [(ngModel)]="MD.valorPag" placeholder="R$: 0,00" currencyMask [options]="{ prefix: 'R$ ', thousands: '.', decimal: ',' }"
                #valadd>
            </div>
          </div>

          <div class="col-3">
            <div class="row">
              <div class="col">
                <div class="form-group frm-topo ">
                  <label class="lb-topo">Vencimento </label>
                  <input type="text" class="form-control finc-inpt" [disabled]="true" [(ngModel)]="MD.vencimento">
                </div>
              </div>
              <div class="col">
                <div class="form-group frm-topo ">
                  <label class="lb-topo">Baixa </label>
                  <input type="text" class="form-control finc-inpt" [disabled]="true" [(ngModel)]="MD.dataBaixado">
                </div>
              </div>
            </div>
          </div>
          <div class="col-3">
            <div class="form-group frm-topo ">
              <label class="lb-topo"> Histórico: </label>
              <input type="text" class="form-control finc-inpt" [disabled]="true" [(ngModel)]="MD.historico" (click)="showVar(mydateBaixa)">
            </div>
          </div>





        </div>

        <div class="  finc-sub-bts row">

          <div class="col-2">
            <div class="form-group frm-topo ">
              <label class="lb-topo"> Tipo Juros (R$/%): </label>
              <select class="form-control  finc-inpt" size="1" [(ngModel)]="MD.TpJuros" (change)="ChagTpJuros()" (click)="showVar(MD)">
                <option value="$"> R$ - Valor em Reais </option>
                <option value="%"> % - Porcentagem </option>
              </select>
            </div>
          </div>
          <div class="col-2">
            <div class="form-group frm-topo ">
              <label class="lb-topo"> Juros: </label>
              <!-- <input type="text" class="form-control finc-inpt"   [(ngModel)]="MD.juros" (click)="showVar(MD)"> -->
              <input type="text" class="form-control finc-inpt" (click)="showVar(MD)" [hidden]="MD.TpJuros != '$'" [(ngModel)]="MD.juros"
                (keyup)="ChagValJuros()" placeholder="R$: 0,00" currencyMask [options]="{ prefix: 'R$ ', thousands: '.', decimal: ',' }">
              <input type="text" class="form-control finc-inpt" (click)="showVar(MD)" [hidden]="MD.TpJuros != '%'" [(ngModel)]="MD.jurosPec"
                (keyup)="ChagValJuros()" placeholder="%:  0,00" currencyMask [options]="{ prefix: '% ', thousands: '.', decimal: ',' }">
            </div>
          </div>

          <div class="col-2">
            <div class="form-group frm-topo ">
              <label class="lb-topo"> Tipo desconto (R$/%): </label>
              <select class="form-control  finc-inpt" size="1" [disabled]="fincDescontAtivo" [(ngModel)]="MD.TpDesconto" (click)="showVar(MD)"
                (change)="ChagTpDesconto()">
                <option value="$"> R$ - Valor em Reais</option>
                <option value="%"> % - Porcentagem </option>
              </select>
            </div>
          </div>
          <div class="col-2">
            <div class="form-group frm-topo ">
              <label class="lb-topo"> Desconto: </label>
              <input type="text" class="form-control finc-inpt" [disabled]="fincDescontAtivo" [hidden]="MD.TpDesconto != '$'" [(ngModel)]="MD.desconto"
                (keyup)="ChagValDesconto()" placeholder="R$: 0,00" currencyMask [options]="{ prefix: 'R$ ', thousands: '.', decimal: ',' }">
              <input type="text" class="form-control finc-inpt" [disabled]="fincDescontAtivo" [hidden]="MD.TpDesconto != '%'" [(ngModel)]="MD.descontoPec"
                (keyup)="ChagValDesconto()" placeholder="%:  0,00" currencyMask [options]="{ prefix: '% ', thousands: '.', decimal: ',' }">
            </div>
          </div>




        </div>

        <div class="  finc-sub-bts row">
          <div class="col-2">
            <!-- *ngIf="MD.PagFormShow == true" -->
            <div class="form-group frm-topo ">
              <label class="lb-topo" (click)="showVar(FormaPagamentoALL);">
                <strong class="obrigat">*</strong> Forma Pagamento: </label>
              <select class="form-control finc-inpt" (change)="onchagerPagForm()" [disabled]="MD.disableFirmPag" [(ngModel)]="MD.PagForm"
                [disabled]=" (FincselectedBonus)">
                <option *ngFor="let FormaP of FormaPagamentoALL" [value]="FormaP.chave">{{FormaP.nm_tipo_pagamento}}</option>
              </select>
            </div>
          </div>

          <div class="col-2" *ngIf=" (MD.PagForm == 'L00000020100620202853') || (MD.PagForm == 'L00000020100620202851') || (MD.PagForm == 'L00500020161215173051') || (MD.PagForm == 'L00500020161205113918')">
            <div class="form-group frm-topo ">
              <label class="lb-topo">
                <strong class="obrigat">*</strong> Banco: </label>
              <select class="form-control finc-inpt" [(ngModel)]="MD.CheqBanco">
                <option *ngFor="let cheqB of ListBancoCheq" [value]="cheqB.chave">{{cheqB.nm_banco}}</option>
              </select>
            </div>
          </div>
          <div class="col-2" *ngIf=" (MD.PagForm == 'L00000020100620202853') || (MD.PagForm == 'L00000020100620202851') || (MD.PagForm == 'L00500020161215173051') || (MD.PagForm == 'L00500020161205113918')">
            <div class="form-group frm-topo ">
              <label class="lb-topo">
                <strong class="obrigat">*</strong> Agência: </label>
              <input type="text" class="form-control finc-inpt" maxLength="5" [(ngModel)]="MD.CheqAgen" NumberOnly>
            </div>
          </div>
          <div class="col-2" *ngIf=" (MD.PagForm == 'L00000020100620202853') || (MD.PagForm == 'L00000020100620202851') || (MD.PagForm == 'L00500020161215173051') || (MD.PagForm == 'L00500020161205113918')">
            <div class="form-group frm-topo ">
              <label class="lb-topo">
                <strong class="obrigat">*</strong> Conta: </label>
              <input type="text" class="form-control finc-inpt" maxLength="10" [(ngModel)]="MD.CheqCont" NumberOnly>
            </div>
          </div>
          <div class="col" *ngIf=" (MD.PagForm == 'L00000020100620202853') || (MD.PagForm == 'L00000020100620202851') || (MD.PagForm == 'L00500020161215173051') || (MD.PagForm == 'L00500020161205113918')">
            <div class="form-group frm-topo ">
              <label class="lb-topo">
                <strong class="obrigat">*</strong> Cheque: </label>

              <input type="text" class="form-control finc-inpt" maxLength="26" [(ngModel)]="MD.CheqNum" NumberOnly>
            </div>
          </div>


          <!-- DADOS PARA CARTAO  -->
          <div class="col-3" *ngIf="MD.PagForm == 'L20120705222521' || MD.PagForm == 'L00000020100620202855' ">
            <div class="form-group frm-topo ">
              <label class="lb-topo"> Bandeira Cartão
                <strong class="obrigat">*</strong>
              </label>
              <!-- {{SaldoCaixaDifirenca}} -->
              <select class="form-control finc-inpt" [(ngModel)]="MD.bandeiraCartao">
                <option *ngFor="let R of ListBandeiraCartao" [value]="R.cd_bandeira_cartao">{{R.nm_bandeira_cartao}}</option>
              </select>
            </div>
          </div>

          <div class="col-2" *ngIf="MD.PagForm == 'L20120705222521' || MD.PagForm == 'L00000020100620202855' ">
            <div class="form-group frm-topo ">
              <label class="lb-topo">N° cartão Inicio </label>
              <input type="text" class="form-control finc-inpt" [brmasker]="{mask:'0000', len:4, person: true}" [(ngModel)]="MD.numerocartaoINI"
                NumberOnly maxlength="4">
            </div>
          </div>

          <div class="col-2" *ngIf="MD.PagForm == 'L20120705222521' || MD.PagForm == 'L00000020100620202855' ">
            <div class="form-group frm-topo ">
              <label class="lb-topo">N° cartão ultimos
                <strong class="obrigat">*</strong>
              </label>
              <!-- {{SaldoCaixaDifirenca}} -->
              <input type="text" class="form-control finc-inpt" [brmasker]="{mask:'0000', len:4, person: true}" [(ngModel)]="MD.numerocartao"
                NumberOnly maxlength="4">
            </div>
          </div>




        </div>



        <div class="  finc-sub-bts row">
          <div class="col">
            <div class="form-group frm-topo ">
              <label class="lb-topo">os capos com
                <strong class="obrigat">*</strong> são obrigatorios. </label>
            </div>
          </div>
        </div>







        <div class="row finc-sub-bts pa-t-15">

          <div class="col-12 ">
            <!-- [disabled]="Process"  <button type="button" class="btn btn-primary"  >Ok</button> -->
            <button type="button" class="btn btn-primary float-right mgR-15 " (click)="modalRef.hide()">Fechar </button>
            <button type="button" class="btn btn-primary float-right mgR-15" [disabled]="Process" (click)="baixarParcelaExe(templateModalID2)">Baixar </button>
            <!-- <button type="button" class="btn btn-danger" [disabled]="DellProcess" (click)="ConfirmarDellCred(template4ModalID,true)" >Excluir</button>  -->
          </div>
        </div>
      </div>
    </div>
  </ng-template>


  <ng-template #templateModalID3>
    <div class="modal-header tt-md-corp">
      <h4 class="modal-title pull-left tt-md-name">Confirmar Parcela Paga </h4>
      <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
        <span class="tt-md-close" aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">

      <div>
        <div class="col-12">

          Adicionar a conta corrente da clinica a parcela do dia:
          <strong> {{MD.vencimento}} </strong>
          com historico:
          <strong> {{MD.historico }} </strong>
          e valor:
          <strong> {{MD.valor_parcela | formatCurrency }} </strong>

        </div>

        <div class="row finc-sub-bts pa-t-15">
          <div class="col-12 " style="margin-top: 10px;">
            <!-- <button type="button" class="btn btn-primary"  >Ok</button> -->

            <button type="button" class="btn btn-primary float-right mgR-15 " [disabled]="Process" (click)="ConfirParcelaExe()">Baixar</button>
            <button type="button" class="btn btn-primary float-right mgR-15" (click)="modalRef.hide()"> Cancelar </button>
          </div>
        </div>
      </div>
    </div>
  </ng-template>




  <ng-template #templateModalID4>
    <div class="modal-header tt-md-corp">
      <h4 class="modal-title pull-left tt-md-name">Remover parcela do Tratamento </h4>
      <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
        <span class="tt-md-close" aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">

      <div>
        <div class="col-12">

          Deseja remover a parcela do dia:
          <strong> {{MD.vencimento}} </strong>
          com historico:
          <strong> {{MD.historico }} </strong>
          e valor:
          <strong> {{MD.valor_parcela | formatCurrency }} </strong>

        </div>

        <div class="row finc-sub-bts pa-t-15">
          <div class="col-12 " style="margin-top: 10px;">
            <!-- <button type="button" class="btn btn-primary"  >Ok</button> -->

            <button type="button" class="btn btn-danger float-right mgR-15 " [disabled]="Process" (click)="RemoverParcelaExe()">Remover</button>
            <button type="button" class="btn btn-primary float-right mgR-15" (click)="modalRef.hide()"> Cancelar </button>
          </div>
        </div>
      </div>
    </div>
  </ng-template>


  <ng-template #templateModalID5>
    <div class="modal-header tt-md-corp">
      <h4 class="modal-title pull-left tt-md-name">Alterar Parcela </h4>
      <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
        <span class="tt-md-close" aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">

      <div>

        <div class="  finc-sub-bts row">
          <div class="col-3">
            <div class="form-group frm-topo ">
              <label class="lb-topo"> Vencimento: </label>
              <input type="text" class="form-control finc-inpt" [disabled]="true" [(ngModel)]="MD.venctoFormt" (click)="showVar(mydateBaixa)">
            </div>
          </div>
          <div class="col-3">
            <div class="form-group frm-topo ">
              <label class="lb-topo"> Nova Data: </label>
              <!-- <input type="text" class="form-control finc-inpt"   [(ngModel)]="MD.venctoFormtNew" (click)="showVar(mydateBaixa)"> -->
              <form #myForm="ngForm" novalidate>
                <!-- placeholder="{{DataHojeini}}" -->
                <my-date-picker name="mydate" [locale]="locale" [brmasker]="{mask:'00/00/0000', len:10}" [options]="myDatePickerOptions"
                  [(ngModel)]="model2" required></my-date-picker>
              </form>
            </div>
          </div>
          <div class="col-3">
            <div class="form-group frm-topo ">
              <label class="lb-topo"> Valor Parcela: </label>
              <input type="text" class="form-control finc-inpt" [disabled]="true" [(ngModel)]="MD.valor_parcela" placeholder="R$: 0,00"
                currencyMask [options]="{ prefix: 'R$ ', thousands: '.', decimal: ',' }">
            </div>
          </div>
          <div class="col-3">
            <div class="form-group frm-topo ">
              <label class="lb-topo"> Novo Valor Parcela: </label>
              <input type="text" class="form-control finc-inpt" [(ngModel)]="MD.valor_parcelaNew" placeholder="R$: 0,00" currencyMask [options]="{ prefix: 'R$ ', thousands: '.', decimal: ',' }">
            </div>
          </div>
        </div>
        <div class="  finc-sub-bts row">
          <div class="col-6">
            <div class="form-group frm-topo ">
              <label class="lb-topo"> Histórico: </label>
              <input type="text" class="form-control finc-inpt" [disabled]="true" [(ngModel)]="MD.historico" (click)="showVar(mydateBaixa)">
            </div>
          </div>
          <div class="col-6">
            <div class="form-group frm-topo ">
              <label class="lb-topo"> Observações: </label>
              <input type="text" class="form-control finc-inpt" [(ngModel)]="MD.observacoes" (click)="showVar(mydateBaixa)">
            </div>
          </div>
        </div>


        <div class="row finc-sub-bts pa-t-15">
          <div class="col-12 " style="margin-top: 10px;">
            <!-- <button type="button" class="btn btn-primary"  >Ok</button> -->

            <button type="button" class="btn btn-primary float-right mgR-15 " [disabled]="Process" (click)="AlterarExe()">Alterar</button>
            <button type="button" class="btn btn-primary float-right mgR-15" (click)="modalRef.hide()"> Cancelar </button>
          </div>
        </div>
      </div>
    </div>
  </ng-template>


  <ng-template #templateModalID6>
    <div class="modal-header tt-md-corp">
      <h4 class="modal-title pull-left tt-md-name">Dados Parcela </h4>
      <button type="button" class="close pull-right"  aria-label="Close" (click)="modalRef.hide()">
        <span class="tt-md-close" aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">

      <div>

        <div class="  finc-sub-bts row">
            <div class="col-3">
              <div class="form-group frm-topo ">
                <label class="lb-topo"> Nome Paciente: </label>
                <input type="text" class="form-control finc-inpt" [disabled]="true" [(ngModel)]="MD.nomePaciente" >
              </div>
            </div>
        </div>



        <div class="  finc-sub-bts row">
            <div class="col-2">
              <div class="form-group frm-topo ">
                <label class="lb-topo"> Vencimento: </label>
                <input type="text" class="form-control finc-inpt" [disabled]="true" [(ngModel)]="MD.vencimento" >
              </div>
            </div>
            <div class="col-2">
              <div class="form-group frm-topo ">
                <label class="lb-topo"> Dia Semana: </label>
                <input type="text" class="form-control finc-inpt" [disabled]="true" [(ngModel)]="MD.dia_semana" >
              </div>
            </div>



            <div class="col-1">
              <div class="form-group frm-topo ">
                <label class="lb-topo"> (Efetivada): </label>
                <input type="text" class="form-control finc-inpt" [disabled]="true" [(ngModel)]="MD.efetivada" >
              </div>
            </div>
            <div class="col-2">
              <div class="form-group frm-topo ">
                <label class="lb-topo"> Data Baixa: </label>
                <input type="text" class="form-control finc-inpt" [disabled]="true" [(ngModel)]="MD.dt_baixaShow" >
              </div>
            </div>

            <div class="col-4">
              <div class="form-group frm-topo ">
                <label class="lb-topo">Nome Prestador Baixou: </label>
                <input type="text" class="form-control finc-inpt" [disabled]="true" [(ngModel)]="MD.nome_quem_baixou" >
              </div>
            </div>


        </div>
        <div class="  finc-sub-bts row">
            <div class="col-2">
              <div class="form-group frm-topo ">
                <label class="lb-topo"> Valor Parcela: </label>
                <input type="text" class="form-control finc-inpt" [disabled]="true" [(ngModel)]="MD.valor_parcela" placeholder="R$: 0,00"
                  currencyMask [options]="{ prefix: 'R$ ', thousands: '.', decimal: ',' }">
              </div>
            </div>
            <div class="col-2">
              <div class="form-group frm-topo ">
                <label class="lb-topo"> Desconto: </label>
                <input type="text" class="form-control finc-inpt" [disabled]="true" [(ngModel)]="MD.desconto" placeholder="R$: 0,00" currencyMask
                  [options]="{ prefix: 'R$ ', thousands: '.', decimal: ',' }">
              </div>
            </div>
            <div class="col-2">
              <div class="form-group frm-topo ">
                <label class="lb-topo"> Tipo Desconto: </label>
                <input type="text" class="form-control finc-inpt" [disabled]="true" [(ngModel)]="MD.tdesc">
              </div>
            </div>
            <div class="col-2">
              <div class="form-group frm-topo ">
                <label class="lb-topo"> Juros cartão: </label>
                <input type="text" class="form-control finc-inpt" [disabled]="true" [(ngModel)]="MD.juros_cartao" placeholder="R$: 0,00"
                  currencyMask [options]="{ prefix: 'R$ ', thousands: '.', decimal: ',' }">
              </div>
            </div>
            <div class="col-2">
              <div class="form-group frm-topo ">
                <label class="lb-topo"> Juros: </label>
                <input type="text" class="form-control finc-inpt" [disabled]="true" [(ngModel)]="MD.juros" placeholder="R$: 0,00" currencyMask
                  [options]="{ prefix: 'R$ ', thousands: '.', decimal: ',' }">
              </div>
            </div>
            <div class="col-2">
              <div class="form-group frm-topo ">
                <label class="lb-topo"> Tipo Juros: </label>
                <input type="text" class="form-control finc-inpt" [disabled]="true" [(ngModel)]="MD.tjuro">
              </div>
            </div>
        </div>
        <div class="  finc-sub-bts row">
            <div class="col-6">
              <div class="form-group frm-topo ">
                <label class="lb-topo"> Histórico: </label>
                <input type="text" class="form-control finc-inpt"  [disabled]="true" [(ngModel)]="MD.historico" >
              </div>
            </div>
            <div class="col-6">
              <div class="form-group frm-topo ">
                <label class="lb-topo"> Observações: </label>
                <input type="text" class="form-control finc-inpt"   [disabled]="true" [(ngModel)]="MD.observacoes" >
              </div>
            </div>
        </div>


        <div class="row finc-sub-bts pa-t-15">
          <div class="col-12 " style="margin-top: 10px;">
            <!-- <button type="button" class="btn btn-primary"  >Ok</button> -->
            <!-- <button type="button" class="btn btn-primary float-right mgR-15 " [disabled]="Process" >a</button> *ngIf="FincTrselectedRow != null && IsAdm == true" -->
            <button type="button" class="btn btn-danger float-right mgR-15 " [disabled]="MD.debito_efetivado != 'S' " *ngIf="IsAdm == true" (click)="CancelBaixaExe(templateModalID7)">Remover Baixa</button>
            <button type="button" class="btn btn-primary float-right mgR-15" [hidden]="MD.debito_efetivado != 'S'"   (click)="RecibosOld()"> Emitir Txt </button>
            <button type="button" class="btn btn-primary float-right mgR-15" [hidden]="MD.debito_efetivado != 'S'"   (click)="RecibosOldPDF()"> Emitir Recibo </button>
            <button type="button" class="btn btn-primary float-right mgR-15" (click)="modalRef.hide()"> Fechar </button>
            
          </div>
        </div>
      </div>
    </div>
  </ng-template>


  

  <ng-template #templateModalID7>
      <div class="modal-header tt-md-corp">
        <h4 class="modal-title pull-left tt-md-name">Remover baixar da parcela  </h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
          <span class="tt-md-close" aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
  
        <div>
          <div class="col-12">
  
            Deseja remover a Baixa da parcela do dia:
            <strong> {{MD.vencimento}} </strong>
            com historico:
            <strong> {{MD.historico }} </strong>
            e valor:
            <strong> {{MD.valor_parcela | formatCurrency }} </strong>
  
          </div>
  
          <div class="row finc-sub-bts pa-t-15">
            <div class="col-12 " style="margin-top: 10px;">
              <!-- <button type="button" class="btn btn-primary"  >Ok</button> -->
  
              <button type="button" class="btn btn-danger float-right mgR-15 " [disabled]="Process" (click)="CancelBaixaExe(templateModalID7)">Remover Baixa</button>
              <button type="button" class="btn btn-primary float-right mgR-15" (click)="modalRef.hide()"> Cancelar </button>
            </div>
          </div>
        </div>
      </div>
    </ng-template>


    
  <ng-template #templateModalID8>
      <div class="modal-header tt-md-corp">
        <h4 class="modal-title pull-left tt-md-name">Renegociar Parcelamento  </h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
          <span class="tt-md-close" aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
  
        <div>
          <div class="col-12">
  
            Deseja renegociar parcelas não efetivadas com vencimentos a partir de: 
            <strong> {{MD.vencimento  }} </strong>
              
           
          </div>

          
          <div class="  finc-sub-bts row">
              <div class="col-2">
                <div class="form-group frm-topo ">
                    <label class="lb-topo"> Número Parcelas <strong class="obrigat" >*</strong></label>
                    <select class="form-control finc-inpt" [(ngModel)]="MD.numParcelar" (change)="RenegociarParcNum()">
                        <option *ngFor="let T of ListParcelas" [value]="T.num">{{T.num}}</option>
                    </select>
                </div>
              </div>
              <div class="col-3">
                  <div class="form-group frm-topo ">
                      <label class="lb-topo"> Valor não efetivado: </label>
                      <input type="text" class="form-control finc-inpt" [disabled]="true" [(ngModel)]="MD.ValNEfetivado" placeholder="R$: 0,00"
                        currencyMask [options]="{ prefix: 'R$ ', thousands: '.', decimal: ',' }">
                  </div>
                </div>
              <div class="col-3">
                <div class="form-group frm-topo ">
                    <label class="lb-topo"> Valor Parcela: </label>
                    <input type="text" class="form-control finc-inpt" [disabled]="true" [(ngModel)]="MD.valor_parcelaRenegoc" placeholder="R$: 0,00"
                      currencyMask [options]="{ prefix: 'R$ ', thousands: '.', decimal: ',' }">
                </div>
              </div>
          </div>

          <div class="row finc-sub-bts pa-t-15">
            <div class="col-12 " style="margin-top: 10px;">
              <!-- <button type="button" class="btn btn-primary"  >Ok</button> -->
  
              <button type="button" class="btn btn-danger float-right mgR-15 " [disabled]="Process" (click)="RenegociarExe()">Renegociar</button>
              <button type="button" class="btn btn-primary float-right mgR-15" (click)="modalRef.hide()"> Cancelar </button>
            </div>
          </div>
        </div>
      </div>
    </ng-template>
  


    
  <ng-template #templateModalID9>
    <div class="modal-header tt-md-corp">
      <h4 class="modal-title pull-left tt-md-name">Renegociar Parcela  </h4>
      <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
        <span class="tt-md-close" aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">

      <div>
        <div class="col-12">

          Deseja renegociar Parcela Selecionada :
          <strong> {{MD.historico  }} </strong>
            
         
        </div>

        
        <div class="  finc-sub-bts row">
            <div class="col-2">
              <div class="form-group frm-topo ">
                  <label class="lb-topo"> Número Parcelas <strong class="obrigat" >*</strong></label>
                  <select class="form-control finc-inpt" [(ngModel)]="MD.numParcelar" (change)="RenegociarPar2cNum(MD)">
                      <option *ngFor="let T of ListParcelas" [value]="T.num">{{T.num}}</option>
                  </select>
              </div>
            </div>
            <div class="col-3">
              <div class="form-group frm-topo ">
                  <label class="lb-topo"> Valor Primeira parcela: </label>
                  <input type="text" class="form-control finc-inpt"  (keyup)="RenegociarPar2cNum(MD)" [(ngModel)]="MD.valor_entrada" placeholder="R$: 0,00"
                    currencyMask [options]="{ prefix: 'R$ ', thousands: '.', decimal: ',' }">
              </div>
            </div>
            <div class="col-3">
                <div class="form-group frm-topo ">
                    <label class="lb-topo"> Valor não efetivado: </label>
                    <input type="text" class="form-control finc-inpt" [disabled]="true" [(ngModel)]="MD.valor_parcela" placeholder="R$: 0,00"
                      currencyMask [options]="{ prefix: 'R$ ', thousands: '.', decimal: ',' }">
                </div>
              </div>
            <div class="col-3">
              <div class="form-group frm-topo ">
                  <label class="lb-topo"> Valor Parcela: </label>
                  <input type="text" class="form-control finc-inpt" [disabled]="true" [(ngModel)]="MD.valor_parcelaRenegoc" placeholder="R$: 0,00"
                    currencyMask [options]="{ prefix: 'R$ ', thousands: '.', decimal: ',' }">
              </div>
            </div>
        </div>

        <div class="row finc-sub-bts pa-t-15">
          <div class="col-12 " style="margin-top: 10px;">
            <!-- <button type="button" class="btn btn-primary"  >Ok</button> -->

            <button type="button" class="btn btn-danger float-right mgR-15 " [disabled]="Process" (click)="RenegociarParcelaExe()">Renegociar</button>
            <button type="button" class="btn btn-primary float-right mgR-15" (click)="modalRef.hide()"> Cancelar </button>
          </div>
        </div>
      </div>
    </div>
  </ng-template>


</section>